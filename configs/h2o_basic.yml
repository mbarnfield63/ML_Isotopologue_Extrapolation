run_name: "h2o_basic"
output_dir: "outputs/" # This will be created by the main script

data:
  # List of CSVs to load. If >1, they will be auto-combined.
  paths: 
    - "data/processed/H2O_minor_isos_processed.csv"
  
  target_col: "Error_IE"
  
  # All columns to EXCLUDE from features
  not_feature_cols:
    - "Error_IE"        # Target
    - "E_Ma_iso"        # True value for post-analysis
    - "iso"             # Isotopologue identifier
    - "ID"              # Other identifiers
    - "unc"
    - "??"
    - "Source"
    - "match_key"

  # All columns that need scaling
  scaled_cols:
    - "E_IE"
    - "E_Ca_iso"
    - "E_Ca_parent"
    - "E_Ma_parent"
    - "gtot"
    - "J"
    - "Ka"
    - "Kc"
    - "v1"
    - "v2"
    - "v3"

  # Isos to FILTER OUT from the dataset
  filter_out_isos: []

experiment:
  type: "single_run"  # Options: 'single_run', 'multi_seed', or 'cv'
  seed: 42
  train_size: 0.7
  val_size: 0.1  
  test_size: 0.2 

model:
  name: "H2O_Basic"
  params:
    dropout: 0.3

training:
  epochs: 500
  batch_size: 512
  learning_rate: 1e-3
  init_bias_to_mean: True
  loss_function: "SmoothL1Loss"  # Options: 'MSELoss', 'L1Loss', 'SmoothL1Loss'
  optimizer: "Adam"               # Options: 'SGD', 'Adam'
  early_stopping:
    enabled: true
    patience: 20
    min_delta: 0.001
  scheduler_config:
    enabled: true
    mode: "min"
    factor: 0.5
    patience: 10

analysis:
  post_processing:
    enabled: true  # Set to false for simple models
    true_energy_col: "E_Ma_iso"
    original_energy_col: "E_IE"
    nn_correction_col: "NN_correction"

  isotopologue_analysis:
    enabled: true
    group_by_col: "iso"
    
    # List specific isos to analyze, or [] for all
    isos_of_interest: []
  
  feature_importance:
    enabled: true
    metric: 'mae'  # Options: 'mae', 'rmse'

plotting:
  enabled: true
  group_by_col: "iso" 
  true_energy_col: "E_Ma_iso"
  
  # Control which plots to generate
  plot_loss: true
  plot_pred_vs_true: true
  plot_metric_bars: true
  plot_residual_hist: true
  plot_residual_boxplots: true
  plot_iso_residuals: true